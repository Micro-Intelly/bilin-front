<app-filters-template
  (filterChanged)="onFilterChange($event)"
>
  <div fxLayout="column">
    <div fxLayout="row" fxLayoutAlign="center top" class="mt-2 mb-5" *ngIf="loading">
      <mat-spinner></mat-spinner>
    </div>
    <div *ngIf="!loading">
      <div fxLayout="row" class="mt-2 mb-5">
        <div fxLayout="column" fxLayoutGap="16px grid" class="w-100">
          <div *ngFor="let test of testsFiltered | paginate
                : {
                    id: 'videoPagination',
                    itemsPerPage: gridSize,
                    currentPage: page,
                    totalItems: count
                  };let i = index">
            <mat-card class="mat-elevation-z4 card" routerLink="/test/detail/t1">
              <!--              <img mat-card-image src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/Example_image.svg/600px-Example_image.svg.png" alt="alt">-->
              <mat-card-content>
                <mat-card-title class="text-oneline" data-bs-toggle="tooltip" data-bs-placement="bottom" title="{{test.title}}">{{test.title}}</mat-card-title>
                <mat-card-subtitle>Author: {{test.author!.name}} </mat-card-subtitle>
                <p class="text-multilines">
                  {{test.description}}
                </p>
                <mat-card-subtitle>Questions: {{test.questions_count}}</mat-card-subtitle>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>
      <div fxLayout="row" fxLayoutAlign="center center">
      <pagination-controls
        id="videoPagination"
        previousLabel="Prev"
        nextLabel="Next"
        [responsive]="true"
        (pageChange)="onChangePageV($event)"
      >
      </pagination-controls>
    </div>
    </div>
  </div>
</app-filters-template>
